//Include any predeployment steps here, such as signing up for a Marketplace AMI or making any changes to a partner account. If there are no predeployment steps, leave this file empty.

== Predeployment steps

=== Subscribe to CloudXR Marketplace offering

//*Instructions to get Cloudxr AMI from marketplace*

//Using the NVIDIA CloudXR AMI Introductory Offer - WinServer 2019 eases installation and delivery of NVIDIA CloudXR. Deploying the Marketplace offering provides the following software and AWS instance configurations: CloudXR Server installer and documentation NICE DCV remote desktop access for developers and non-VR users NICE DCV virtual audio driverâ€”used by CloudXR.

Navigate to https://aws.amazon.com/marketplace[AWS Marketplace] and search for CloudXR to find the latest listing. Review the details and make a note of the instance size, AWS Pricing, usage, and other details. Select *Continue to Subscribe*. 

//**Click https://aws.amazon.com/marketplace/pp/prodview-galujeez5ljra[here] to access the AWS/CloudXR Marketplace AMI Listing.

Accept the Terms and Conditions to activate the subscription (this may take a few minutes). When finished, an effective date will be displayed.

=== Create S3 Bucket to store binaries

//*Instructions to create S3 bucket and prefix for media repository

* https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-s3.html[Create an S3 bucket] to store the SteamVR binary, VRED Core binary, and Scene file for rendering, preferably in the same region into which you will deploy the Quick Start.

* Optionally, create an S3 key prefix to organize the binaries stored in the S3 bucket.

=== Obtain SteamVR binary

* Install and open the https://store.steampowered.com/about/[Steam Client] on a PC with full internet access.
* In the Steam Client, open the Library section and find the section labeled *Tools*.
* Search for the *SteamVR* entry and install it.
* Right-click on the *SteamVR* entry and in the resulting popup menu click *Properties*.
* A new window with multiple tabs will open. Select the *LOCAL FILES* tab and click on *BROWSE LOCAL FILES*.
* The directory containing the SteamVR Runtime will open. Compress this entire directory into a ZIP file named *SteamVR.zip*. This binary will be used to install Steam VR.
* Store the SteamVR.zip binary in the previously created S3 bucket.

=== Setup EC2 for Network License management

* Create an elastic network interface (ENI) with a fixed MAC address.
* Create an EC2 instance from a preconfigured AMI or a new Windows 10 or 11 deployment.
* Download and install the https://www.autodesk.com/support/download-install/admins/network-licenses/install-licensing-software[Autodesk Network License Manager].
* Create a license based on the NLM server name and the MAC address of the ENI.
* Setup a license file for NLM via LMTools.

===  Obtain Autodesk VRED Core binary

* From a web browser, open https://manage.autodesk.com.
* Sign in with your Autodesk credentials.
* Click on *All Products and Services* on the left.
* Choose VRED Core and click *View downloads*.
* Click on *View all* below the *Install now* button.
* Choose *Browser Download*.
* Select *Start download* from the resulting popup.
* Disable browser pop-up blockers before downloading.
* Copy all installer *.sfx.exe files to your AWS media S3 bucket.

[#predeployment1]
image::../docs/deployment_guide/images/image1.png[predeployment1]

[#predeployment2]
image::../docs/deployment_guide/images/image2.png[predeployment2]

[#predeployment3]
image::../docs/deployment_guide/images/image3.png[predeployment3]
